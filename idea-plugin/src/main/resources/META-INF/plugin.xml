<idea-plugin xmlns:xi="http://www.w3.org/2001/XInclude">
    <id>me.danwi.sqlex</id>
    <name>SqlEx</name>
    <vendor email="demon@danwi.me" url="https://sqlex.github.com">SqlEx</vendor>

    <description><![CDATA[
    SqlEx Plugin, enhance the development experience of SqlEx framework, provides autocomplete/inspection and so on.
    ]]></description>

    <depends>com.intellij.modules.platform</depends>
    <depends>com.intellij.java</depends>
    <depends>org.jetbrains.plugins.yaml</depends>
    <depends>com.intellij.database</depends>

    <!--可选依赖-->
    <depends optional="true" config-file="withKotlin.xml">org.jetbrains.kotlin</depends>
    <depends optional="true" config-file="withSpring.xml">com.intellij.spring</depends>

    <!--子模块-->
    <xi:include href="SqlExRepository.xml" xpointer="xpointer(/idea-plugin/*)"/>
    <xi:include href="SqlExConfig.xml" xpointer="xpointer(/idea-plugin/*)"/>
    <xi:include href="SqlExSchema.xml" xpointer="xpointer(/idea-plugin/*)"/>
    <xi:include href="SqlExMethod.xml" xpointer="xpointer(/idea-plugin/*)"/>

    <projectListeners>
        <!--监听Source Root变更-->
        <listener class="me.danwi.sqlex.idea.listener.impl.SqlExModuleRootListener"
                  topic="com.intellij.openapi.roots.ModuleRootListener"/>
    </projectListeners>

    <extensions defaultExtensionNs="com.intellij">
        <!--启动Activity-->
        <postStartupActivity implementation="me.danwi.sqlex.idea.SqlExStartupActivity"/>
        <!--SqlEx通知组-->
        <notificationGroup id="SqlEx Notification Group" displayType="BALLOON" isLogByDefault="true"/>

        <localInspection language="JAVA" groupName="SqlEx" level="ERROR" enabledByDefault="true"
                         displayName="Java converter implement"
                         implementationClass="me.danwi.sqlex.idea.inspection.SqlExJavaConverterImplementInspection"
        />
    </extensions>
</idea-plugin>